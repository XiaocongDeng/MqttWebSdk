<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Web Camera</title>
	<script src="jquery/jquery-1.9.1.min.js"></script>
	<script src="js/check.js"></script>

	<style type="text/css">
		.fixhei{ height:30px; float:left;};
		.logindoc{ float:left;width:200px;text-align:right;float:left;}
		.logininput{ margin-left:20px;float:left;width:200px;float:left; }
		.bottom { margin:0 auto;width:80px;height:30px;line-height:28px;text-align:center;cursor:pointer;border-radius:4px;color:#fff;background:#007FFB;border-top:2px solid #0C5DF9;border-right:2px solid #0C5DF9;border-left:2px solid #1E90FF;border-bottom:2px solid #1E90FF;}
		.bottom:active { border-top:2px solid #1E90FF;border-right:2px solid #1E90FF;border-left:2px solid #0C5DF9;border-bottom:2px solid #0C5DF9; }
		.table{ width:1025px;height:400px;}
	</style>
	
</head>


<body>  
	<div style="width:100%;height:750px;;background:#fff;">
		<div style="clear:bottom;height:70px;"></div>
		<div style="width:1025px;height:220px;background:#fff;position:relative;">
			<div style="margin-left:100px;width:80px;height:30px;background:#D6EBFF;line-height:26px;">Time Title</div>
			<div style="clear:bottom;height:30px;"></div>
			<div style="margin:0 auto;width:640px;height:30px;">
				<div style="float:left;width:80px;text-align:right;height:30px;line-height:30px;"> Enabled: </div>
				<div style="float:left;height:1px;width:40px;"></div>
				<select style="width:84px;height:30px;float:left;"  id="id_TimeEnabled">
					<option value="0">0</option>
					<option value="1">1</option>
				</select>
				<div style="float:left;width:80px;text-align:right;height:30px;line-height:30px;"> Text: </div>
				<div style="float:left;height:1px;width:40px;"></div>
				<!--<input style="width:40px;height:24px;border-radius:4px;float:left;" value="2014" maxlength="4" id="id_TimeY"></input>
				<div style="float:left;width:20px;text-align:center;height:30px;line-height:26px;">-</div>
				<input style="width:25px;height:24px;border-radius:4px;float:left;" value="01" maxlength="2" id="id_TimeM"></input>
				<div style="float:left;width:20px;text-align:center;height:30px;line-height:26px;">-</div>
				<input style="width:25px;height:24px;border-radius:4px;float:left;" value="01" maxlength="2" id="id_TimeD"></input>
				<div style="float:left;width:20px;text-align:center;height:30px;line-height:26px;"> </div>
				<input style="width:25px;height:24px;border-radius:4px;float:left;" value="00" maxlength="2" id="id_TimeH"></input>
				<div style="float:left;width:20px;text-align:center;height:30px;line-height:26px;">:</div>
				<input style="width:25px;height:24px;border-radius:4px;float:left;" value="00" maxlength="2" id="id_Timem"></input>
				<div style="float:left;width:20px;text-align:center;height:30px;line-height:26px;">:</div>
				<input style="width:25px;height:24px;border-radius:4px;float:left;" value="00" maxlength="2" id="id_TimeS"></input>
				-->
				<input style="width:154px;height:24px;border-radius:4px;float:left;" disabled="disabled" value="text" maxlength="64" id="id_TimeText"> </input>
			</div>
			<div style="clear:bottom;height:40px;"></div>
			<div style="margin:0 auto;width:600px;height:30px;">
				<div style="float:left;width:80px;text-align:right;height:30px;line-height:30px;"> Posx: </div>
				<div style="float:left;height:1px;width:40px;"></div>
				<input style="width:154px;height:24px;border-radius:4px;float:left;" value="0"  maxlength="6" id="id_TimePosx"> </input>
				<div style="float:left;height:1px;width:40px;"></div>
				<div style="float:left;width:80px;text-align:right;height:30px;line-height:30px;"> Posy: </div>
				<div style="float:left;height:1px;width:40px;"></div>
				<input style="width:154px;height:24px;border-radius:4px;float:left;" value="0" maxlength="6" id="id_TimePosy"> </input>
			</div>
			
			<div style="clear:bottom;height:50px;"></div>
			<div style="margin-left:100px;width:90px;height:30px;background:#D6EBFF;line-height:26px;">Other Title</div>
			<div style="clear:bottom;height:30px;"></div>
			<div style="margin:0 auto;width:600px;height:30px;">
				<div style="float:left;width:80px;text-align:right;height:30px;line-height:30px;"> Enabled: </div>
				<div style="float:left;height:1px;width:40px;"></div>
				<select style="width:84px;height:30px;float:left;"  id="id_OtherEnabled">
					<option value="0">0</option>
					<option value="1">1</option>
				</select>
				<div style="float:left;width:80px;text-align:right;height:30px;line-height:30px;"> Text: </div>
				<div style="float:left;height:1px;width:40px;"></div>
				<input style="width:154px;height:24px;border-radius:4px;float:left;" value="text" maxlength="64" id="id_OtherText"> </input>
			</div>
			<div style="clear:bottom;height:40px;"></div>
			<div style="margin:0 auto;width:600px;height:30px;">
				<div style="float:left;width:80px;text-align:right;height:30px;line-height:30px;"> Posx: </div>
				<div style="float:left;height:1px;width:40px;"></div>
				<input style="width:154px;height:24px;border-radius:4px;float:left;" value="0"  maxlength="6" id="id_OtherPosx"> </input>
				<div style="float:left;height:1px;width:40px;"></div>
				<div style="float:left;width:80px;text-align:right;height:30px;line-height:30px;"> Posy: </div>
				<div style="float:left;height:1px;width:40px;"></div>
				<input style="width:154px;height:24px;border-radius:4px;float:left;" value="0" maxlength="6" id="id_OtherPosy"> </input>
			</div>
			
			<div style="clear:bottom;height:40px;"></div>
			<div class="bottom" type="bottom" onclick="OnSave()">Submit</div>
			
		</div>
	</div>
</body>   

<script  type="text/javascript"> 
function GetParam() {
	if(parent.demo != undefined && parent.demo != "") {
		parent.demo.GetOsdParam();//
	}
}
function SetParamToPage(obj) {
	if(obj.status == 200) {
		$("#id_TimeEnabled").val(obj.data.time.enabled);
		//$("#id_TimeY").val(obj.data.framerate.min);
		//$("#id_TimeM").val(obj.data.bitrate.max);
		//$("#id_TimeD").val(obj.data.bitrate.min);
		//$("#id_TimeH").val(obj.data.quality.max);
		//$("#id_Timem").val(obj.data.quality.min);
		//$("#id_TimeS").val(obj.data.gop.max);
		$("#id_TimeText").val(obj.data.time.text);
		$("#id_TimePosx").val(obj.data.time.posx);
		$("#id_TimePosy").val(obj.data.time.posy);

		$("#id_OtherEnabled").val(obj.data.channeltitle.enabled);
		$("#id_OtherText").val(obj.data.channeltitle.text);
		$("#id_OtherPosx").val(obj.data.channeltitle.posx);
		$("#id_OtherPosy").val(obj.data.channeltitle.posy);
		
		
	}else {
		console.log("ERROR["+obj.status+"]: get param error !");
	}
}
function OnSave(operation) {
	var tmpValue = parseInt($("#id_TimePosx").val());
	if(  tmpValue > 1856 || tmpValue < 0) {
		alert("Time Title Posx Beyond the specified range (0 ~ 1856) !");return ;
	}
	tmpValue = parseInt($("#id_TimePosy").val());
	if(tmpValue > 1856 || tmpValue < 0 ) {
		alert("Time Title Posy Beyond the specified range (0 ~ 1856) !");return ;
	}
	if( CheckNum("id_TimePosx") != true  ) {
		alert("Time Title Posx parameter input error , Only numbers can be entered !");return ;
	}
	if( CheckNum("id_TimePosy") != true  ) {
		alert("Time Title Posy parameter input error , Only numbers can be entered !");return ;
	}
	
	if( CheckIsEnglishAndNum("id_OtherText") != true  || $("#id_OtherText").val() == "" || $("#id_OtherText").val().indexOf(" ") != -1) {
		alert("Other Title Text parameter input error !");return ;
	}
	tmpValue = parseInt($("#id_OtherPosx").val());
	if(  tmpValue > 1856 || tmpValue < 0) {
		alert("Other Title Posx Beyond the specified range (0 ~ 1856) !");return ;
	}
	tmpValue = parseInt($("#id_OtherPosy").val());
	if(tmpValue > 1856 || tmpValue < 0 ) {
		alert("Other Title Posy Beyond the specified range (0 ~ 1856) !");return ;
	}
	if( CheckNum("id_OtherPosx") != true  ) {
		alert("Other Title Posx parameter input error , Only numbers can be entered !");return ;
	}
	if( CheckNum("id_OtherPosy") != true  ) {
		alert("Other Title Posy parameter input error , Only numbers can be entered !");return ;
	}
	
	var data = {
		"channeltitle":{
			"posx":parseInt($("#id_OtherPosx").val()),
			"posy":parseInt($("#id_OtherPosy").val()),
			"text":$("#id_OtherText").val(),
			"enabled":parseInt($("#id_OtherEnabled").val())
		},
		"time":{
			"posx":parseInt($("#id_TimePosx").val()),
			"posy":parseInt($("#id_TimePosy").val()),
			"text":$("#id_TimeText").val(),
			"enabled":parseInt($("#id_TimeEnabled").val())
		}
	};
	console.log(JSON.stringify(data));
	if(parent.demo != undefined && parent.demo != "") {
		parent.demo.SetOsdParam(data);
	} else {
		console.log("Not connected to the server or disconnected from the server !");
		return ;
	}
}
$(function() {
	var status = parent.demo.GetDeviceStatus();
	if(status == "online") {
		GetParam();
	} else {
		alert("Please log on the device first !");
	}
});

</script> 

</html>  